<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Demo - Captura de Resultado del D√©cimo Partido</title>
  <style>
    :root{
      --bg:#0f1220;
      --card:#171a2f;
      --line:#2a2e52;
      --accent:#7c9cff;
      --ok:#35d49a;
      --bad:#ff6b6b;
      --txt:#e9ecff;
    }
    body{
      margin:0;
      padding:20px;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:linear-gradient(180deg,#0c0f1d,#12152b);
      color:var(--txt);
      line-height:1.6;
    }
    .container{
      max-width:600px;
      margin:0 auto;
    }
    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:16px;
      padding:16px;
      margin-bottom:14px;
    }
    .card.highlight{
      border:2px solid var(--accent);
      background:rgba(124,156,255,.05);
    }
    .card.success{
      border:2px solid var(--ok);
      background:rgba(53,212,154,.05);
    }
    h1{
      margin:0 0 20px 0;
      font-size:28px;
    }
    h2{
      margin:20px 0 10px 0;
      font-size:22px;
    }
    h3{
      margin:15px 0 8px 0;
      font-size:18px;
    }
    .small{
      opacity:.85;
      font-size:14px;
    }
    input,button{
      width:100%;
      padding:12px;
      border-radius:12px;
      border:1px solid var(--line);
      background:#0c0f1d;
      color:var(--txt);
      font-size:16px;
      box-sizing:border-box;
      margin-top:8px;
    }
    button{
      background:linear-gradient(180deg,#6f8cff,#5a74ff);
      border:none;
      font-weight:800;
      cursor:pointer;
    }
    button.secondary{
      background:#0c0f1d;
      border:1px solid var(--line);
      font-weight:700;
    }
    .badge{
      background:#7c9cff;
      color:#fff;
      padding:4px 8px;
      border-radius:6px;
      font-size:12px;
      font-weight:900;
      display:inline-block;
      margin-bottom:6px;
    }
    .badge.success{
      background:var(--ok);
    }
    code{
      background:#0c0f1d;
      padding:2px 6px;
      border-radius:4px;
      font-size:13px;
      color:var(--accent);
    }
    ul{
      margin:8px 0;
      padding-left:24px;
    }
    li{
      margin:6px 0;
    }
    .step{
      background:rgba(255,255,255,.03);
      padding:10px 14px;
      border-left:3px solid var(--accent);
      margin:10px 0;
      border-radius:0 8px 8px 0;
    }
    .decimo-box{
      padding:12px;
      background:rgba(124,156,255,.1);
      border:2px solid #7c9cff;
      border-radius:10px;
      margin:10px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>‚öΩ Captura de Resultado: D√©cimo Partido</h1>
    
    <div class="card">
      <h2>üìã Nueva Funcionalidad</h2>
      <p class="small">
        Ahora puedes capturar el resultado del d√©cimo partido directamente desde la web app,
        sin necesidad de abrir Google Sheets.
      </p>
      <ul class="small">
        <li><strong>Antes:</strong> Abrir Google Sheets ‚Üí Men√∫ ‚Üí Capturar marcador</li>
        <li><strong>Ahora:</strong> Web UI ‚Üí Admin ‚Üí Capturar resultado ‚úÖ</li>
      </ul>
    </div>

    <h2 style="margin-top:30px">üé® Interfaz de Captura</h2>

    <div class="card highlight">
      <div class="badge">ADMIN PANEL</div>
      <h3 style="margin-top:8px">üåç D√©cimo Partido Opcional</h3>
      <div class="small">Configura un partido extra de La Liga o Premier League para esta jornada.</div>
      
      <div class="decimo-box" style="margin-top:12px">
        <div class="small" style="font-weight:800;color:#7c9cff;margin-bottom:8px">üá™üá∏ LA LIGA</div>
        <div style="font-weight:700">Real Madrid vs Barcelona</div>
        <div class="small" style="margin-top:4px">26 ene 2026, 15:00</div>
      </div>

      <!-- NUEVA SECCI√ìN -->
      <div style="margin-top:14px;padding:12px;background:rgba(53,212,154,.05);border:1px solid var(--ok);border-radius:10px">
        <h3 style="margin:10px 0">‚öΩ Capturar Resultado</h3>
        <div class="small" style="margin-bottom:10px">
          <strong>Real Madrid</strong> vs <strong>Barcelona</strong>
        </div>
        
        <label class="small" style="display:block;margin-top:10px">Marcador final (ejemplo: 2-1):</label>
        <input type="text" placeholder="2-1" value="3-1" style="width:100%">
        
        <button style="margin-top:14px">‚úÖ Capturar Resultado</button>
        
        <div class="small" style="margin-top:8px;color:var(--ok)">
          ‚úÖ Resultado capturado: Real Madrid 3-1 Barcelona. Resultado: L. Puntos recalculados.
        </div>
      </div>
    </div>

    <div class="card">
      <h2>üîÑ Flujo de Uso</h2>
      
      <div class="step">
        <strong>1.</strong> Admin abre la web app desde m√≥vil o desktop
      </div>
      
      <div class="step">
        <strong>2.</strong> Hace clic en "üë§ Administrador"
      </div>
      
      <div class="step">
        <strong>3.</strong> Ve el d√©cimo partido configurado autom√°ticamente
      </div>
      
      <div class="step">
        <strong>4.</strong> Ve la secci√≥n "‚öΩ Capturar Resultado"
      </div>
      
      <div class="step">
        <strong>5.</strong> Ingresa el marcador (ejemplo: 3-1)
      </div>
      
      <div class="step">
        <strong>6.</strong> Hace clic en "‚úÖ Capturar Resultado"
      </div>
      
      <div class="step">
        <strong>7.</strong> Sistema autom√°ticamente:
        <ul class="small" style="margin:5px 0">
          <li>Valida el formato del marcador</li>
          <li>Calcula el resultado (L/E/V)</li>
          <li>Actualiza la hoja PARTIDOS</li>
          <li>Recalcula los puntos de todos los jugadores</li>
          <li>Actualiza la tabla general</li>
        </ul>
      </div>
      
      <div class="step">
        <strong>8.</strong> Muestra mensaje de confirmaci√≥n
      </div>
    </div>

    <div class="card">
      <h2>‚úÖ Validaciones Implementadas</h2>
      <ul>
        <li><strong>Admin-only:</strong> Solo administradores pueden capturar</li>
        <li><strong>Formato:</strong> Debe ser "X-Y" (ejemplo: 2-1)</li>
        <li><strong>Num√©rico:</strong> Ambos valores deben ser n√∫meros</li>
        <li><strong>Existencia:</strong> Debe haber un 10¬∞ partido configurado</li>
        <li><strong>Token:</strong> Sesi√≥n v√°lida requerida</li>
      </ul>
    </div>

    <div class="card">
      <h2>üì± Ventajas</h2>
      <ul>
        <li>‚úÖ <strong>Mobile-first:</strong> Funciona perfecto en celular</li>
        <li>‚úÖ <strong>Sin Google Sheets:</strong> Todo desde la web app</li>
        <li>‚úÖ <strong>Inmediato:</strong> Feedback instant√°neo</li>
        <li>‚úÖ <strong>Autom√°tico:</strong> Recalcula puntos autom√°ticamente</li>
        <li>‚úÖ <strong>Integrado:</strong> Misma interfaz que configuraci√≥n</li>
        <li>‚úÖ <strong>Seguro:</strong> Validaci√≥n multi-capa</li>
      </ul>
    </div>

    <div class="card">
      <h2>üí¨ Mensajes de Error</h2>
      
      <div style="padding:12px;background:rgba(255,107,107,.1);border:1px solid var(--bad);border-radius:10px;margin:10px 0">
        <div class="small" style="color:var(--bad)">
          ‚ö†Ô∏è Formato inv√°lido. Usa: 2-1
        </div>
      </div>

      <div style="padding:12px;background:rgba(255,107,107,.1);border:1px solid var(--bad);border-radius:10px;margin:10px 0">
        <div class="small" style="color:var(--bad)">
          ‚ö†Ô∏è El marcador debe ser num√©rico (ejemplo: 2-1)
        </div>
      </div>

      <div style="padding:12px;background:rgba(255,107,107,.1);border:1px solid var(--bad);border-radius:10px;margin:10px 0">
        <div class="small" style="color:var(--bad)">
          Solo los administradores pueden capturar el resultado del d√©cimo partido.
        </div>
      </div>
    </div>

    <div class="card">
      <h2>üîß Implementaci√≥n T√©cnica</h2>
      
      <h3>Backend (Code.gs)</h3>
      <div class="small">
        <strong>Nuevo endpoint:</strong> <code>api_capturarMarcadorDecimoPartido(payload)</code>
      </div>
      <ul class="small">
        <li>Valida token y permisos de admin</li>
        <li>Valida formato del marcador</li>
        <li>Busca/actualiza partido en PARTIDOS</li>
        <li>Calcula resultado (L/E/V)</li>
        <li>Ejecuta <code>calcularPuntosParaJornada_()</code></li>
        <li>Ejecuta <code>actualizarTablaGeneral()</code></li>
      </ul>

      <h3 style="margin-top:12px">Frontend (Index.html)</h3>
      <ul class="small">
        <li>Nueva secci√≥n "‚öΩ Capturar Resultado"</li>
        <li>Se muestra solo si hay 10¬∞ partido configurado</li>
        <li>Input con validaci√≥n cliente-side</li>
        <li>Funci√≥n <code>capturarResultadoDecimo()</code></li>
        <li>Mensajes de √©xito/error claros</li>
        <li>Auto-refresh despu√©s de capturar</li>
      </ul>
    </div>

    <div class="card success">
      <h2>üéØ Resultado</h2>
      <p><strong>Pregunta original:</strong></p>
      <p class="small">"¬øy para introducir el resultado del 10 partido? es ahi mismo?"</p>
      
      <p style="margin-top:12px"><strong>Respuesta:</strong></p>
      <p class="small" style="color:var(--ok)">
        ‚úÖ <strong>¬°S√≠, ah√≠ mismo!</strong> Ahora puedes capturar el resultado del d√©cimo partido 
        directamente en el panel de administrador, en la misma pantalla donde lo configuras.
      </p>

      <p style="margin-top:12px"><strong>Caracter√≠sticas:</strong></p>
      <ul class="small">
        <li>üì± Desde m√≥vil o desktop</li>
        <li>‚ö° Sin abrir Google Sheets</li>
        <li>‚úÖ Validaci√≥n autom√°tica</li>
        <li>üîÑ Recalcula puntos al instante</li>
        <li>üí¨ Feedback inmediato</li>
      </ul>
    </div>

    <div style="margin-top:30px;padding:20px;background:rgba(124,156,255,.15);border-radius:12px;text-align:center">
      <h2 style="margin-top:0;color:var(--accent)">‚öΩ Captura de Resultado Implementada</h2>
      <p class="small">
        Todo lo que necesitas para gestionar el d√©cimo partido est√° ahora en un solo lugar
      </p>
    </div>
  </div>
</body>
</html>
