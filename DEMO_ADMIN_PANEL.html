<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Demo - Panel de Administrador Seguro</title>
  <style>
    :root{
      --bg:#0f1220;
      --card:#171a2f;
      --line:#2a2e52;
      --accent:#7c9cff;
      --ok:#35d49a;
      --bad:#ff6b6b;
      --txt:#e9ecff;
      --warning:#ffc107;
    }
    body{
      margin:0;
      padding:20px;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:linear-gradient(180deg,#0c0f1d,#12152b);
      color:var(--txt);
      line-height:1.6;
    }
    .container{
      max-width:900px;
      margin:0 auto;
    }
    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:16px;
      padding:16px;
      margin-bottom:14px;
    }
    .card.highlight{
      border:2px solid var(--accent);
      background:rgba(124,156,255,.05);
    }
    .card.success{
      border:2px solid var(--ok);
      background:rgba(53,212,154,.05);
    }
    .card.error{
      border:2px solid var(--bad);
      background:rgba(255,107,107,.05);
    }
    .card.warning{
      border:2px solid var(--warning);
      background:rgba(255,193,7,.05);
    }
    h1{
      margin:0 0 20px 0;
      font-size:28px;
    }
    h2{
      margin:20px 0 10px 0;
      font-size:22px;
    }
    h3{
      margin:15px 0 8px 0;
      font-size:18px;
    }
    .small{
      opacity:.85;
      font-size:14px;
    }
    input,button,select{
      width:100%;
      padding:12px;
      border-radius:12px;
      border:1px solid var(--line);
      background:#0c0f1d;
      color:var(--txt);
      font-size:16px;
      box-sizing:border-box;
      margin-top:8px;
    }
    button{
      background:linear-gradient(180deg,#6f8cff,#5a74ff);
      border:none;
      font-weight:800;
      cursor:pointer;
    }
    button.secondary{
      background:#0c0f1d;
      border:1px solid var(--line);
      font-weight:700;
    }
    .badge{
      background:#7c9cff;
      color:#fff;
      padding:4px 8px;
      border-radius:6px;
      font-size:12px;
      font-weight:900;
      display:inline-block;
      margin-bottom:6px;
    }
    .badge.success{
      background:var(--ok);
    }
    .badge.error{
      background:var(--bad);
    }
    .badge.warning{
      background:var(--warning);
      color:#000;
    }
    code{
      background:#0c0f1d;
      padding:2px 6px;
      border-radius:4px;
      font-size:13px;
      color:var(--accent);
    }
    ul{
      margin:8px 0;
      padding-left:24px;
    }
    li{
      margin:6px 0;
    }
    .step{
      background:rgba(255,255,255,.03);
      padding:10px 14px;
      border-left:3px solid var(--accent);
      margin:10px 0;
      border-radius:0 8px 8px 0;
    }
    .comparison{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:14px;
      margin:20px 0;
    }
    @media (max-width: 768px) {
      .comparison{
        grid-template-columns:1fr;
      }
    }
    .panel-section{
      padding:12px;
      background:rgba(255,255,255,.02);
      border:1px solid var(--line);
      border-radius:10px;
      margin:10px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ” Panel de Administrador Seguro</h1>
    
    <div class="card warning">
      <h2>âš ï¸ Problema Resuelto</h2>
      <p><strong>Pregunta original:</strong></p>
      <p class="small">"creo que necesito algo mas seguro para poder modificar el 10 partido porque cualquiera podrÃ­a poner mi nombre y acceder a administrador"</p>
      
      <p style="margin-top:12px"><strong>âœ… SoluciÃ³n Implementada:</strong></p>
      <ul class="small">
        <li>AutenticaciÃ³n con contraseÃ±a de administrador</li>
        <li>Sesiones seguras con tokens de 2 horas</li>
        <li>ValidaciÃ³n en todas las operaciones</li>
        <li>Imposible falsificar credenciales</li>
      </ul>
    </div>

    <h2 style="margin-top:30px">ğŸ”’ ComparaciÃ³n de Seguridad</h2>

    <div class="comparison">
      <div class="card error">
        <div class="badge error">ANTES (Inseguro)</div>
        <h3 style="margin-top:8px">âŒ Problema</h3>
        <ul class="small">
          <li>Cualquiera podÃ­a registrarse con nombre de admin</li>
          <li>Sin autenticaciÃ³n real</li>
          <li>Acceso inmediato al panel admin</li>
          <li>Solo validaciÃ³n por nombre</li>
          <li>FÃ¡cil de falsificar</li>
        </ul>
      </div>

      <div class="card success">
        <div class="badge success">AHORA (Seguro)</div>
        <h3 style="margin-top:8px">âœ… SoluciÃ³n</h3>
        <ul class="small">
          <li>ContraseÃ±a requerida obligatoriamente</li>
          <li>SesiÃ³n con token Ãºnico</li>
          <li>ValidaciÃ³n en servidor</li>
          <li>Tokens con expiraciÃ³n (2 horas)</li>
          <li>Imposible falsificar</li>
        </ul>
      </div>
    </div>

    <div class="card highlight">
      <h2>ğŸ” Flujo de AutenticaciÃ³n</h2>
      
      <div class="step">
        <strong>1. Usuario Normal</strong><br>
        <span class="small">Inicia sesiÃ³n con su nombre (como siempre)</span>
      </div>
      
      <div class="step">
        <strong>2. BotÃ³n de Admin</strong><br>
        <span class="small">Si estÃ¡ en AdminPlayers, ve el botÃ³n "ğŸ” Administrador"</span>
      </div>
      
      <div class="step">
        <strong>3. Pantalla de Login</strong><br>
        <span class="small">Click en botÃ³n â†’ Pantalla de contraseÃ±a de admin</span>
      </div>
      
      <div class="step">
        <strong>4. Ingresa ContraseÃ±a</strong><br>
        <span class="small">Escribe la contraseÃ±a configurada en CONFIG.AdminPassword</span>
      </div>
      
      <div class="step">
        <strong>5. ValidaciÃ³n Segura</strong><br>
        <span class="small">Sistema valida contraseÃ±a en el servidor</span>
      </div>
      
      <div class="step">
        <strong>6. Token de SesiÃ³n</strong><br>
        <span class="small">Se genera token Ãºnico vÃ¡lido por 2 horas</span>
      </div>
      
      <div class="step">
        <strong>7. Acceso al Panel</strong><br>
        <span class="small" style="color:var(--ok)">âœ… Acceso completo al panel de administrador</span>
      </div>
    </div>

    <div class="card">
      <h2>âš™ï¸ Panel de Administrador Completo</h2>
      
      <div class="panel-section" style="background:rgba(124,156,255,.05)">
        <h3 style="margin:10px 0">ğŸ“… GestiÃ³n de Jornada</h3>
        <div class="small">
          <strong>Jornada Actual: 5</strong><br>
          Estado: <span style="color:var(--ok)">ğŸ”“ ABIERTA</span>
        </div>
        
        <select style="margin-top:10px">
          <option>Jornada 1</option>
          <option>Jornada 2</option>
          <option>Jornada 3</option>
          <option>Jornada 4</option>
          <option selected>Jornada 5</option>
        </select>
        
        <button style="margin-top:10px">ğŸ“… Cambiar Jornada</button>
        
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:10px">
          <button class="secondary">ğŸ”’ Cerrar Jornada</button>
          <button class="secondary">ğŸ”“ Abrir Jornada</button>
        </div>
      </div>
      
      <div class="panel-section" style="background:rgba(53,212,154,.05)">
        <h3 style="margin:10px 0">âš½ Capturar Resultados</h3>
        <div class="small" style="margin-bottom:10px">Jornada 5 - 9 partidos</div>
        
        <div style="padding:8px;background:rgba(255,255,255,.02);border:1px solid var(--line);border-radius:8px;margin:6px 0">
          <div class="small" style="font-weight:700">AmÃ©rica vs Chivas</div>
          <input type="text" placeholder="2-1" value="3-1" style="width:100%;margin-top:4px">
        </div>
        
        <div style="padding:8px;background:rgba(255,255,255,.02);border:1px solid var(--line);border-radius:8px;margin:6px 0">
          <div class="small" style="font-weight:700">Cruz Azul vs Pumas</div>
          <input type="text" placeholder="2-1" value="1-1" style="width:100%;margin-top:4px">
        </div>
        
        <div style="padding:8px;background:rgba(255,255,255,.02);border:1px solid var(--line);border-radius:8px;margin:6px 0">
          <div class="small" style="font-weight:700">Tigres vs Monterrey</div>
          <input type="text" placeholder="2-1" style="width:100%;margin-top:4px">
        </div>
        
        <div class="small" style="opacity:.5;margin:6px 0">... 6 partidos mÃ¡s</div>
        
        <button style="margin-top:10px">âœ… Capturar Todos los Resultados</button>
      </div>
      
      <div class="panel-section" style="background:rgba(255,193,7,.05)">
        <h3 style="margin:10px 0">ğŸŒ DÃ©cimo Partido</h3>
        <button class="secondary">Gestionar DÃ©cimo Partido</button>
      </div>
      
      <div style="margin-top:14px">
        <button class="secondary">ğŸšª Cerrar SesiÃ³n Admin</button>
      </div>
    </div>

    <div class="card">
      <h2>âœ¨ Funciones Disponibles</h2>
      
      <h3>ğŸ“… GestiÃ³n de Jornada</h3>
      <ul class="small">
        <li><strong>Ver estado:</strong> Jornada activa y si estÃ¡ cerrada/abierta</li>
        <li><strong>Cambiar jornada:</strong> Seleccionar cualquier jornada (1-17)</li>
        <li><strong>Cerrar jornada:</strong> Bloquear picks de los jugadores</li>
        <li><strong>Abrir jornada:</strong> Permitir picks de los jugadores</li>
      </ul>
      
      <h3 style="margin-top:12px">âš½ Captura de Resultados</h3>
      <ul class="small">
        <li><strong>Lista de partidos:</strong> Todos los partidos de la jornada actual</li>
        <li><strong>Entrada de marcadores:</strong> Campo para cada partido (formato: 2-1)</li>
        <li><strong>Captura masiva:</strong> Capturar mÃºltiples resultados a la vez</li>
        <li><strong>ValidaciÃ³n automÃ¡tica:</strong> Formato y cÃ¡lculo de resultado (L/E/V)</li>
        <li><strong>Recalculo automÃ¡tico:</strong> Puntos y tabla general</li>
      </ul>
      
      <h3 style="margin-top:12px">ğŸŒ DÃ©cimo Partido</h3>
      <ul class="small">
        <li><strong>Configurar:</strong> Liga, equipos, fecha</li>
        <li><strong>Capturar resultado:</strong> Marcador del dÃ©cimo partido</li>
        <li><strong>Eliminar:</strong> Quitar dÃ©cimo partido de la jornada</li>
      </ul>
    </div>

    <div class="card">
      <h2>ğŸ”§ ConfiguraciÃ³n Requerida</h2>
      
      <h3>En Google Sheets â†’ CONFIG</h3>
      
      <div style="padding:12px;background:rgba(124,156,255,.1);border:1px solid var(--accent);border-radius:10px;margin:10px 0">
        <div class="small" style="font-weight:700;margin-bottom:8px">1. ContraseÃ±a de Admin (Nuevo)</div>
        <table style="width:100%;border-collapse:collapse">
          <tr style="background:rgba(0,0,0,.2)">
            <th style="padding:8px;text-align:left">KEY</th>
            <th style="padding:8px;text-align:left">VALUE</th>
          </tr>
          <tr>
            <td style="padding:8px;border:1px solid var(--line)"><code>AdminPassword</code></td>
            <td style="padding:8px;border:1px solid var(--line)"><code>tu-contraseÃ±a-segura</code></td>
          </tr>
        </table>
      </div>
      
      <div style="padding:12px;background:rgba(124,156,255,.1);border:1px solid var(--accent);border-radius:10px;margin:10px 0">
        <div class="small" style="font-weight:700;margin-bottom:8px">2. Nombres de Admin (Existente)</div>
        <table style="width:100%;border-collapse:collapse">
          <tr style="background:rgba(0,0,0,.2)">
            <th style="padding:8px;text-align:left">KEY</th>
            <th style="padding:8px;text-align:left">VALUE</th>
          </tr>
          <tr>
            <td style="padding:8px;border:1px solid var(--line)"><code>AdminPlayers</code></td>
            <td style="padding:8px;border:1px solid var(--line)"><code>Juan,MarÃ­a</code></td>
          </tr>
        </table>
      </div>
    </div>

    <div class="card success">
      <h2>ğŸ‰ Beneficios</h2>
      
      <h3>ğŸ”’ Seguridad</h3>
      <ul class="small">
        <li>âœ… ContraseÃ±a obligatoria para acceso admin</li>
        <li>âœ… Tokens de sesiÃ³n con expiraciÃ³n</li>
        <li>âœ… ValidaciÃ³n en servidor en todas las operaciones</li>
        <li>âœ… Imposible falsificar credenciales de admin</li>
        <li>âœ… Cache seguro para sesiones</li>
      </ul>
      
      <h3 style="margin-top:12px">âš¡ Funcionalidad</h3>
      <ul class="small">
        <li>âœ… <strong>Todo desde la web UI</strong> - No necesitas abrir Google Sheets</li>
        <li>âœ… <strong>Cambiar jornada</strong> - Seleccionar 1-17 con un click</li>
        <li>âœ… <strong>Abrir/cerrar jornada</strong> - Control de picks</li>
        <li>âœ… <strong>Capturar resultados</strong> - MÃºltiples partidos a la vez</li>
        <li>âœ… <strong>Gestionar dÃ©cimo partido</strong> - Configurar, capturar, eliminar</li>
      </ul>
      
      <h3 style="margin-top:12px">ğŸ“± Experiencia</h3>
      <ul class="small">
        <li>âœ… <strong>Mobile-friendly</strong> - Funciona perfecto en celular</li>
        <li>âœ… <strong>Interfaz intuitiva</strong> - Todo organizado y claro</li>
        <li>âœ… <strong>Feedback inmediato</strong> - Mensajes de confirmaciÃ³n</li>
        <li>âœ… <strong>ValidaciÃ³n en tiempo real</strong> - Evita errores</li>
      </ul>
    </div>

    <div class="card">
      <h2>ğŸ“Š Cambios TÃ©cnicos</h2>
      
      <h3>Backend (Code.gs)</h3>
      <ul class="small">
        <li>â• <code>api_adminLogin()</code> - Login con contraseÃ±a</li>
        <li>â• <code>validateAdminSession_()</code> - Validar sesiÃ³n</li>
        <li>â• <code>api_adminLogout()</code> - Cerrar sesiÃ³n</li>
        <li>â• <code>api_cambiarJornada()</code> - Cambiar jornada activa</li>
        <li>â• <code>api_cerrarJornada()</code> - Cerrar jornada</li>
        <li>â• <code>api_abrirJornada()</code> - Abrir jornada</li>
        <li>â• <code>api_getInfoJornada()</code> - Info de jornada</li>
        <li>â• <code>api_getPartidosParaResultados()</code> - Lista de partidos</li>
        <li>â• <code>api_capturarResultados()</code> - Captura masiva</li>
        <li>ğŸ”„ Funciones existentes - Soporte para adminToken y token</li>
      </ul>
      
      <h3 style="margin-top:12px">Frontend (Index.html)</h3>
      <ul class="small">
        <li>â• <code>adminLoginCard</code> - Pantalla de login admin</li>
        <li>â• <code>adminPanel</code> - Panel completo de admin</li>
        <li>â• <code>doAdminLogin()</code> - FunciÃ³n de login</li>
        <li>â• <code>openAdminPanel()</code> - Abrir panel</li>
        <li>â• <code>cambiarJornadaActiva()</code> - Cambiar jornada</li>
        <li>â• <code>cerrarJornada()</code> - Cerrar jornada</li>
        <li>â• <code>abrirJornada()</code> - Abrir jornada</li>
        <li>â• <code>loadPartidosRegulares()</code> - Cargar partidos</li>
        <li>â• <code>capturarResultadosRegulares()</code> - Capturar resultados</li>
        <li>â• <code>adminLogout()</code> - Cerrar sesiÃ³n admin</li>
      </ul>
    </div>

    <div style="margin-top:30px;padding:20px;background:rgba(124,156,255,.15);border-radius:12px;text-align:center">
      <h2 style="margin-top:0;color:var(--accent)">ğŸ” Sistema Admin Completo y Seguro</h2>
      <p class="small">
        Ahora tienes control total desde la web UI con seguridad robusta
      </p>
      <div style="margin-top:16px">
        <div class="badge success">SEGURO</div>
        <div class="badge success">COMPLETO</div>
        <div class="badge success">MOBILE-FRIENDLY</div>
      </div>
    </div>
  </div>
</body>
</html>
